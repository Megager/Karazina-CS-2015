# Решетки формальных понятий в анализе данных
*2016, осень*

В данном курсе мы будем заниматься, собственно, анализом формальных понятий, Formal Concept Analysis. Сейчас это в основном практически-ориентированная дисциплина, однако она использует достаточно много непривычной, хотя и не очень сложной математики: частичные порядки и теорию решеток. Поэтому в осеннем семестре мы в основном будем изучать соответственную теорию, возможно ближе к концу возникнут практические задания.

По соглашению сторон, лекции я рассказывать не буду, и соответственно посещать ничего не надо. Необходимую нам для семестра теорию я как раз рассказывал в весеннем семестре, видео этих лекций есть [здесь](https://www.youtube.com/playlist?list=PLqC4I6ocd_h972yjIX9P63so3xLrF2VuB), короткие описания к лекциям [здесь](https://docs.google.com/document/d/1NNgixdQzCYtUeGhohqdlINmRfKRTaNQ7G8nw3_HDvIA/edit?usp=sharing).

В качестве формы контроля я буду давать небольшие, в основном теоретические задачки: что-то проверить, или доказать, или привести пример. Вероятно чуть позже будет несколько заданий практического толка. Я (оптимистически) буду расчитывать на 20 несложных заданий, более-менее равных по сложности, по 5 баллов каждое. Решение задания в таком случае подразумевает, что вы пишете и отправляете мне доказательство соответствующего факта (в TeX, Word или txt). Сроки на задания будут по 2е недели, и я буду настаивать на том, чтоб они выдержиавлись. Пока политика такая, что задания будут приниматься еще неделю после срока с половинной стоимостью, и потом приниматься не будут. Насколько я понимаю, для зачета ван надо набрать 50 из 100 возможных баллов.

Если что, то [тут](https://github.com/BChornomaz/Karazina-CS-2015/tree/master/FCA-Seminar) можете посмотреть папочку с заданиями и описанием к весеннему семинару.

#Занятия
### Неделя 1 - Отношения, графы, порядки (до 25.09).
Эта лекция осталась не заснятой на видео. С другой стороны, в ней расссматриваются достаточно общие вещи, вроде того, что такое [частичный порядок](https://en.wikipedia.org/wiki/Partially_ordered_set), предпорядок[https://en.wikipedia.org/wiki/Preorder] и как двудольные графы(https://en.wikipedia.org/wiki/Bipartite_graph) связаны с произвольными отношениями между двумя множествами. Задания будут связаны в основном с понятием частичного порядка.

- Какое наименьшее множество, на котором можно задать [рефлексивное отношение](https://en.wikipedia.org/wiki/Reflexive_relation), которое не будет частичным порядком? Приведите пример такого отношения. (2 балла).
- В конечном ориентированом графе G зададим отношение R на вершинах G таким образом:
``` x R y <=> в G есть путь из x в y  ```.
Каким должен быть G, чтоб это отношение было отношением частичного порядка? (3 балла).
- Для любого отношения R на X x X есть наименьшее содержащее его рефлексивное транзитивное отношение R', которое называется *рефлексивным транзитивным замыканием R*. На самом деле, R' можно явно выразить через R при помощи операций объединения (бесконечного), композиции (см. union и composition [здесь](https://en.wikipedia.org/wiki/Binary_relation#Operations_on_binary_relations)) и также при помощи единично бинарной операции `I = {(x, x) | x ∈ X}`. Напишите явную формулу для R'. (5 баллов).

### Неделя 2 - Решетки и их простейшие свойства (до 02.10).

Ссылка на [видео](https://www.youtube.com/watch?v=gblxKPSKdzk&list=PLqC4I6ocd_h972yjIX9P63so3xLrF2VuB&index=1).

- Перечислите все пары элементов, находящихся в отношении `a меньше b` и `a покрывается b` для решеток `L` и `P` на рисунке. (2 балла).
  ![Two Lattices](https://github.com/BChornomaz/Karazina-CS-2015/blob/master/FCA-2016/2Lattices.jpg)
- Какие из ч.у. множеств A-K на рисунке являются решетками? Для тех, которые не являются, объяснить почему. (3 балла).
  ![Several Posets](https://github.com/BChornomaz/Karazina-CS-2015/blob/master/FCA-2016/SeveralPosets.jpg)
- Какие из ч.у. множеств A-K на предыдущем рисунке являются *дистрибутивными* решетками? Для тех, которые не являются, объяснить почему. (Дистрибутивность в видео обсуждается на 57й минуте).  (5 баллов).

### Неделя 3 - Операторы замыкания, вложения решеток и ч.у. множеств (до 09.10).

Ссылка на [видео] (https://www.youtube.com/watch?v=uN0By-QN6bY&list=PLqC4I6ocd_h972yjIX9P63so3xLrF2VuB&index=2), нужна только первая половина, до join-irreducible элементов (до 47й минуты).

- Сколько есть *порядковых вложений* (инъективных отображений, сохраняющих порядок) между решетками на рисунке. (2 балла).
  ![Three Mappings](https://github.com/BChornomaz/Karazina-CS-2015/blob/master/FCA-2016/ThreeMappings.jpg)
- Сколько есть *вложений решеток* (инъективных отображений, сохраняющих миты и джойны) между решетками на предыдущем рисунке. (3 балла).

*Замечание*. Подразумевается, что в этих двух вопросах ответ будет примерно такой: Между L и P: x; Q, R: y; S, T: z.

Например, между L и P есть отображение a->c, b->e, которое одноврменно и порядковое, и решеточное, но есть и другие.

Элементы обозначены для удобства, и, например, элемент a в Q и элемент a в R это разные элементы. В частности, не предполагается, что отображение обязательно переводит a в a или 1 в 1.

- Пусть дано ч.у. множество S. Для подмножества X из S, определим отображение I: IX = {y \in S | y \leq x, for some x \in X }. Покажите, что отображение I - замыкание. (5 баллов).


P.S. Здесь и далее я буду время от времени пользоваться LaTeX-овскими обозначениями для математических символов (например \in - лежит в или \leq - меньше равно). Это может быть несколько неудобно, но в целом достаточно распространенная практика. Быстро посмотреть, как выгляди тот или иной символ, можно [здесь](https://www.codecogs.com/latex/eqneditor.php).

### Неделя 4 - Неразложимые элементы (до 16.10).

Ссылка на [видео] (https://www.youtube.com/watch?v=uN0By-QN6bY&list=PLqC4I6ocd_h972yjIX9P63so3xLrF2VuB&index=2), вторая половина (47ая минута и далее), и начало [третьего видео](https://www.youtube.com/watch?v=eJi1lpXALK0&index.=3&list=PLqC4I6ocd_h972yjIX9P63so3xLrF2VuB), до 15й минуты.

- Какие элементы решеток на картинке являются join-irreducible и какие meet-irreducible. (3 балла).
  ![Five Lattices](https://github.com/BChornomaz/Karazina-CS-2015/blob/master/FCA-2016/5Lattices.jpg)
- Найдите минимальные join-разложения всех элементов решеток на картинке. Минимальные join-разложения обсуждаются в начале третьей лекции (второе видео к этой неделе). Заметьте, что некоторые элементы могут иметь больше одного минимального join-разложения. (7 баллов).

### Неделя 5 - Формальные контексты (до 23.10).

Это, в общем, центральная тема. Рассказывается в [третьем видео](https://www.youtube.com/watch?v=eJi1lpXALK0&index=3&list=PLqC4I6ocd_h972yjIX9P63so3xLrF2VuB)(после 15й минуты) и [четвертом видео](https://www.youtube.com/watch?v=Fa12Ddw1qas&list=PLqC4I6ocd_h972yjIX9P63so3xLrF2VuB&index=4). Там чуть больше теории, чем нам здесь надо, но пожалуйста, посмотрите, хотя бы для общего впечатления. Задания, с другой стороны, будут несложными, плюс на следующей неделе будет больше практики.

- Приведите примеры каких-нибудь формальных контекстов, для которых решетки L и P являются их решетками формальных понятий. (5 баллов)
  ![Two Lattices](https://github.com/BChornomaz/Karazina-CS-2015/blob/master/FCA-2016/2Lattices.jpg)
- Для приведенных формальных контекстов, постройте соответствующие им решетки формальных понятий (можно тоже рисовать страшные картинки в Paint). (5 баллов)
  ![Five formal contexts](https://github.com/BChornomaz/Karazina-CS-2015/blob/master/FCA-2016/5FC.jpg)

### Неделя 6 - ConExp (до 30.10).

На этой неделе я не хочу давать теоретического задания, вместо этого я хочу чтоб вы посмотрели простенькую утилитку для работы с формальными контекстами, под наванием *ConExp*, качать [здесь](http://conexp.sourceforge.net).

В ней можно задавать формальные контексты, проводить над ними несложные операции, строить решетку формальных понятий, а также делать некоторые аналитические процедуры, именно, считать для контекста его импликационный базис и набор ассоциативных правил.

Задания будут следующие:
- Написать скрипт на Python, который генерирует `.cxt` файл со случайным формальным контекстом с `n_obj` объектами и `n_attr` аттрибутами, объекты называются 1,2,3,...; аттрибуты:a,b,c,... Формат файла можно посмотреть сохранив произвольный контекст в conexp. (4 баллов)
Для данного формального контекста (сгенерированного ранее) в ConExp сделать(по 1 баллу):
- Построить решетку формальных понятий, с отображенными на ней объектами и аттрибутами;
- Редуцировать контекст;
- Построить решетку формальных понятий редуцированного контекста, с отображенными на ней объектами и аттрибутами;
- Построить импликационный базис;
- Построить набор ассоциативных правил с носителем размера по крайней мере 2 (Minimal Support) и уровнем доверия >= 50 (Confidence) для исходного контекста;
- Выполнить предыдущее задание для редуцированного контекста.

Поскольку мы еще не разбирали большинства этих понятий, задание достаточно формальное. В качестве результата просьба выслать мне питоновский скрипт, скрины решеток, .cxt файлы для сгенерированного и редуцированного контекстов, а также текстовые файлы с  импликационным базисом и ассоциативными правилами.

#Литература

1. B. Ganter, R. Wille. Formal Concept analysis -  Базовая книга по формальным понятиям, очень хорошо написана. Книга выстроена так, чтоб базовые теоретические вопросы были подробно разобраны и подводили к решению практических проблем.
2. B. Davey, H. Priestly. Introduction to lattices and Order - Учебник по теории решеток. Не очень подробный, но впечатление о предмете составить можно.
3. D. Ignatov. Introduction to Formal Concept Analysis and Its Applications in Information Retrieval and Related Fields - вроде как статья, но на сто страниц, т.е. почти книга. Посвящена приложениям FCA в анализе данных.



